!function(){var e=function(e,l,n,o,t,e,r,s,g,i,c){l.childApplicationClose=function(){angular.equals(e.shellConfig,l.originalConfig)||l.saveGlobalSettings(),n.go("dock")},l.closePanelCustomizingTray=function(){angular.equals(e.shellConfig,l.originalConfig)||l.saveGlobalSettings(),e.panelCustomizingTray=!1,g.hide()},l.childApplicationMinimise=function(){n.go("dock")},l.originalConfig=angular.copy(e.shellConfig),l.defaultThemes=[{primarypaletteName:"red",primarypalette:"#F44336",accentpalette:"#FFC107"},{primarypaletteName:"pink",primarypalette:"#E91E63",accentpalette:"#CDDC39"},{primarypaletteName:"puple",primarypalette:"#9C27B0",accentpalette:"#00BCD4"},{primarypaletteName:"deep-purple",primarypalette:"#673AB7",accentpalette:"#FF5722"},{primarypaletteName:"indigo",primarypalette:"#3F51B5",accentpalette:"#FF4081"},{primarypaletteName:"blue",primarypalette:"#2196F3",accentpalette:"#607D8B"},{primarypaletteName:"light-blue",primarypalette:"#03A9F4",accentpalette:"#FF5252"},{primarypaletteName:"cyan",primarypalette:"#00BCD4",accentpalette:"#FFC107"},{primarypaletteName:"teal",primarypalette:"#009688",accentpalette:"#FF9800"},{primarypaletteName:"green",primarypalette:"#4CAF50",accentpalette:"#7C4DFF"},{primarypaletteName:"light-green",primarypalette:"#8BC34A",accentpalette:"#607D8B"},{primarypaletteName:"lime",primarypalette:"#CDDC39",accentpalette:"#00BCD4"},{primarypaletteName:"yellow",primarypalette:"#FFEB3B",accentpalette:"#536DFE"},{primarypaletteName:"amber",primarypalette:"#FFC107",accentpalette:"#03A9F4"},{primarypaletteName:"orange",primarypalette:"#FF9800",accentpalette:"#009688"},{primarypaletteName:"deep-orange",primarypalette:"#FF5722",accentpalette:"#CDDC39"},{primarypaletteName:"brown",primarypalette:"#795548",accentpalette:"#CDDC39"},{primarypaletteName:"grey",primarypalette:"#9E9E9E",accentpalette:"#00BCD4"},{primarypaletteName:"blue-grey",primarypalette:"#607D8B",accentpalette:"#FFC107"}],l.defaultWallPapers=[{imgUrl:"images/shellassets/background/blur-background01.jpg",thumb:"images/shellassets/background/250x250_blur-background01.jpg"},{imgUrl:"images/shellassets/background/blur-background02.jpg",thumb:"images/shellassets/background/250x250_blur-background02.jpg"},{imgUrl:"images/shellassets/background/blur-background03.jpg",thumb:"images/shellassets/background/250x250_blur-background03.jpg"},{imgUrl:"images/shellassets/background/blur-background04.jpg",thumb:"images/shellassets/background/250x250_blur-background04.jpg"},{imgUrl:"images/shellassets/background/blur-background05.jpg",thumb:"images/shellassets/background/250x250_blur-background05.jpg"},{imgUrl:"images/shellassets/background/blur-background06.jpg",thumb:"images/shellassets/background/250x250_blur-background06.jpg"},{imgUrl:"images/shellassets/background/blur-background07.jpg",thumb:"images/shellassets/background/250x250_blur-background07.jpg"},{imgUrl:"images/shellassets/background/blur-background08.jpg",thumb:"images/shellassets/background/250x250_blur-background08.jpg"},{imgUrl:"images/shellassets/background/blur-background09.jpg",thumb:"images/shellassets/background/250x250_blur-background09.jpg"},{imgUrl:"images/shellassets/background/blur-background10.jpg",thumb:"images/shellassets/background/250x250_blur-background10.jpg"},{imgUrl:"images/shellassets/background/blur-background11.jpg",thumb:"images/shellassets/background/250x250_blur-background11.jpg"},{imgUrl:"images/shellassets/background/blur-background12.jpg",thumb:"images/shellassets/background/250x250_blur-background01.jpg"},{imgUrl:"images/shellassets/background/blur-background13.jpg",thumb:"images/shellassets/background/250x250_blur-background13.jpg"},{imgUrl:"images/shellassets/background/blur-background14.jpg",thumb:"images/shellassets/background/250x250_blur-background14.jpg"},{imgUrl:"images/shellassets/background/blur-background15.jpg",thumb:"images/shellassets/background/250x250_blur-background15.jpg"},{imgUrl:"images/shellassets/background/blur-background16.jpg",thumb:"images/shellassets/background/250x250_blur-background16.jpg"},{imgUrl:"images/shellassets/background/blur-background17.jpg",thumb:"images/shellassets/background/250x250_blur-background17.jpg"},{imgUrl:"images/shellassets/background/blur-background18.jpg",thumb:"images/shellassets/background/250x250_blur-background18.jpg"},{imgUrl:"images/shellassets/background/blur-background19.jpg",thumb:"images/shellassets/background/250x250_blur-background19.jpg"},{imgUrl:"images/shellassets/background/blur-background20.jpg",thumb:"images/shellassets/background/250x250_blur-background20.jpg"},{imgUrl:"images/shellassets/background/blur-background21.jpg",thumb:"images/shellassets/background/250x250_blur-background21.jpg"},{imgUrl:"images/shellassets/background/blur-background22.jpg",thumb:"images/shellassets/background/250x250_blur-background22.jpg"},{imgUrl:"images/shellassets/background/blur-background23.jpg",thumb:"images/shellassets/background/250x250_blur-background23.jpg"},{imgUrl:"images/shellassets/background/blur-background24.jpg",thumb:"images/shellassets/background/250x250_blur-background24.jpg"}],l.gridsterOpts={columns:4,pushing:!0,floating:!0,swapping:!0,width:"auto",colWidth:"auto",rowHeight:160,outerMargin:!0,isMobile:!1,mobileBreakPoint:600,mobileModeEnabled:!0,minColumns:4,minRows:1,defaultSizeX:2,defaultSizeY:1,minSizeX:1,maxSizeX:null,minSizeY:1,maxSizeY:150,resizable:{enabled:!1},draggable:{enabled:!0}},l.customItemMap={sizeX:"1",sizeY:"1",row:"pannelRepNode.row",col:"pannelRepNode.col"},l.$watch("shellConfig.docklayoutconfiguration.pannelcollection",function(){for(console.log("panel arrangement changed"),a=0;a<e.shellConfig.docklayoutconfiguration.pannelcollection.length;a++)e.shellConfig.docklayoutconfiguration.pannelcollection[a].panelArrangement=e.shellConfig.docklayoutconfiguration.pannelcollection[a].row+e.shellConfig.docklayoutconfiguration.pannelcollection[a].col},!0),l.changeTheme=function(a){console.log(a),e.shellConfig.themeconfiguration.palettename=a.primarypaletteName,e.shellConfig.themeconfiguration.primarypalette=a.primarypalette,e.shellConfig.themeconfiguration.accentpalette=a.accentpalette},l.changeWallPaper=function(a){console.log(a),e.shellConfig.backgroundconfiguration[2].backgroundimageconfig.imageurl=a.imgUrl},l.saveGlobalSettings=function(){console.log(e.shellConfig),e.shellConfig.username=c.getUserName();var a=o.getClient("shellconfig");a.onComplete(function(a){console.log(a),s.show(s.simple().content("Changes have been saved !").hideDelay(3e3)),e.sendBulkNotification("shell congiguration changed")}),a.onError(function(e){console.log(e),s.show(s.simple().content("Something went wrong!").hideDelay(3e3))}),a.insert(e.shellConfig,{KeyProperty:"username"})},l.hideProgress=!0,l.getMyWallpapers=function(){console.log("getting my wallpapers");var e=o.getClient("duosoftware.com","shellConfigWallpapers",!0);e.onGetMany(function(e,a,n,o){console.log(e),l.hideProgress=!1}),e.onError(function(e,a,l,n){console.log(e,a)}),e.getByKey(c.getUserName())},l.uploadingWallpaper=!1,l.uploadNewWallpaper=function(){g.hide(),document.getElementById("selectPicture").click()},l.file_changed=function(e){l.uploadingWallpaper=!0;var a=e.files[0];console.log(a,c.getUserName());var n="",o=new FileReader;o.onload=function(){n={imgUrl:o.result}},o.readAsDataURL(a),i.upload("duosoftware.com","shellConfigWallpapers",a,c.getUserName(),!0),i.onSuccess(function(e,a){s.show(s.simple().content("Successfully uploaded wallpaper!").hideDelay(3e3)),l.uploadingWallpaper=!1,l.changeWallPaper(n),console.log(a,e)}),i.onError(function(e,a){s.show(s.simple().content("Something went wrong !").hideDelay(3e3)),l.uploadingWallpaper=!1})},l.showAddNewPanel=function(e){g.show({controller:"duoworld-framework-shell-launcher-settings-ctrl",templateUrl:"partials/modal-templates/partials.modal-templates.addnewpanel.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}).then(function(e){},function(){})},l.newPanelType="Collections",l.addNewPanel=function(){g.hide();var a="0";for(b=0;b<e.shellConfig.docklayoutconfiguration.pannelcollection.length;b++)if(e.shellConfig.docklayoutconfiguration.pannelcollection[b].panelArrangement>a){a=e.shellConfig.docklayoutconfiguration.pannelcollection[b].panelArrangement;var n=e.shellConfig.docklayoutconfiguration.pannelcollection[b]}if(console.log(n),3==n.col)var o={col:0,row:parseInt(n.row+1)};else var o={col:parseInt(n.col+1),row:n.row};var t={shellRelationship:"DuoWorld Alpha Shell v 1.0",panelDescription:"Framework shell applications panel",panelTitle:l.newPanelTitle,pannnelDirectiveContentTemplate:"partials/panel-templates/collections-pannel.html",panelArrangement:o.row+o.col,pannelContentCollectionType:"application-component",row:o.row,col:o.col,panelType:l.newPanelType};e.shellConfig.docklayoutconfiguration.pannelcollection.push(t),console.log(t),s.show(s.simple().content("Successfully added panel!").hideDelay(3e3)),e.sendShellNotification("new panel added")},l.close=function(){g.cancel()},l.deletePanel=function(l){for(a=0;a<e.shellConfig.docklayoutconfiguration.pannelcollection.length;a++)e.shellConfig.docklayoutconfiguration.pannelcollection[a].panelTitle==l.panelTitle&&(e.shellConfig.docklayoutconfiguration.pannelcollection.splice(a,1),s.show(s.simple().content("Successfully Deleted panel!").hideDelay(3e3)))}};e.$inject=["$rootScope","$scope","$state","$objectstore","$http","$rootScope","$timeout","$mdToast","$mdDialog","$uploader","$auth"],mambatiFrameworkShell.controller("duoworld-framework-shell-launcher-settings-ctrl",e)}();
