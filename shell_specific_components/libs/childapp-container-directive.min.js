!function(t){t.directive("customappContainer",["$compile","$state","$timeout",function(t,e,n){return{restrict:"E",transclude:!0,scope:{routedAppName:"=routedappname",accentpalette:"=accentpalette",routedAppIconUri:"=routedappiconuri",position:"=position"},template:'<div id="dw-child-test-app-1" class="md-child-application-container" layout="column" layout-align="start center"><div style="height:1px;bckground-color:rgba(0, 0, 0, 0.15);width:100%;z-index:3;" ng-mouseenter="hideHeaderControlBar = false" ></div>	<div class="dw-child-application-header-control-bar" layout="row" layout-align="space-between center" style="background-color:{{accentpalette}} !important;top:0px !important;" ng-if="!hideHeaderControlBar || keepTitleBar" >		<div class="dw-child-application-header-control-bar-left-section" layout="row" layout-align="center center">			<img class="dw-child-application-header-icon" ng-src="{{routedAppIconUri}}" err-src="images/appIcons/untitledapplication.png" width="24" height="24" style="    border-radius: 100%;">			<span class="dw-child-application-header-title">{{routedAppName}}</span>		</div>		<div class="dw-child-application-header-control-bar-right-section" layout="row" layout-align="end center"> <md-button class="md-icon-button animatedHeaderControl" aria-label="Minimise Application" ng-click="childApplicationTitleBarpin()">		        <md-icon md-svg-icon="icons/pin.svg" alt="pinit" class="cad24" ng-show="!keepTitleBar"></md-icon><md-icon md-svg-icon="icons/pin-off.svg" alt="pinit" class="cad24" ng-show="keepTitleBar"></md-icon>		        <md-tooltip>pin It</md-tooltip>		    </md-button>			<md-button class="md-icon-button animatedHeaderControl" aria-label="Minimise Application" ng-click="childApplicationMinimise()">		        <md-icon md-svg-icon="icons/ic_fullscreen_exit_24px.svg" alt="minimise" class="cad24"></md-icon>		        <md-tooltip>Minimise</md-tooltip>		    </md-button>		    <md-button class="md-icon-button animatedHeaderControl" aria-label="Close Application" ng-click="childApplicationClose()">		    	<md-icon md-svg-icon="icons/ic_close_24px.svg" alt="close" class="cad24"></md-icon>		    	<md-tooltip>Close</md-tooltip>		    </md-button>		</div>	</div>	<div class="dw-childapp-backgroundcover defaultView" layout="column" layout-align="center center" >		<div class="dw-childapp-splash-container" layout="column" layout-align="end center">			<div class="dw-childapp-splash-logo-container" layout="column" layout-align="center center">				<img ng-src="{{routedAppIconUri}}" err-src="images/appIcons/untitledapplication.png" class="dw-childapp-splash-logo top-splash-elements-entry" width="100" height="100"/>			</div>			<div class="dw-childapp-splash-text-container" layout="column" layout-align="space-around center">				<span class="dw-childapp-splash-title bottom-splash-elements-entry">{{routedAppName}}</span>				<md-progress-circular  class="dw-childapp-splash-loadingspinner bottom-splash-elements-entry" md-mode="indeterminate"></md-progress-circular>				<span class="dw-childapp-splash-loadingtextindicator bottom-splash-elements-entry">loading</span>			</div>		</div>	</div>	<div ng-mouseenter="hideHeaderControlBar = true" class="customeAppContainer" ng-class="{adjustHeight : keepTitleBar}" > <div id="idRenderDiv"></div>	</div></div>',link:function(t,e){var i="idRenderDiv";$("#"+i).empty();var a=angular.element("#dw-child-application-header-control-bar"),o=angular.element(".dw-childapp-backgroundcover"),l=angular.element(".customeAppContainer"),c=angular.element(".dw-childapp-splash-logo"),s=angular.element(".dw-childapp-splash-title"),r=angular.element(".dw-childapp-splash-loadingspinner"),d=angular.element(".dw-childapp-splash-loadingtextindicator"),p=angular.element(".dw-child-application-header-control-bar-left-section span"),u=angular.element(".dw-child-application-header-control-bar-left-section img"),m=angular.element(".dw-child-app-saveButton"),g=angular.element(".md-child-application-container");g.css({transform:"scale(0)","transform-origin":t.position.clientX+"px "+t.position.clientY+"px"}),n(function(){g.css({transform:"scale(1)","transform-origin":t.position.clientX+"px "+t.position.clientY+"px"})},300),n(function(){a.css({top:"0px",background:t.accentpalette})},1e3),n(function(){c.css("bottom","0px")},1300),n(function(){s.css("top","0px")},1500),n(function(){r.css("top","0px")},1700),n(function(){d.css("top","0px")},1800),n(function(){r.css("top","-400px"),d.css("top","-400px")},4500),n(function(){s.css("top","-400px")},4800),n(function(){c.css("bottom","-150px")},5e3),n(function(){o.css("height","300px")},5200),n(function(){p.css("top","0px"),u.css("top","0px")},5200),n(function(){l.css({opacity:1,"z-index":1,top:"0px"})},5200),n(function(){m.css("z-index","1")},5200),t.hideHeaderControlBar=!0,console.log("im running it again")},controller:"duoworld-framework-shell-launcher-customapps-ctrl"}}]),t.directive("frameworkappContainer",["$compile","$state","$timeout","$rootScope",function(t,e,n,i){return{restrict:"E",transclude:!0,scope:{routedAppName:"=routedappname",accentpalette:"=accentpalette",routedAppIconUri:"=routedappiconuri"},template:'<div id="dw-child-test-app-1" class="md-child-application-container" layout="column" layout-align="start center"><div style="height:1px;bckground-color:rgba(0, 0, 0, 0.15);width:100%;z-index:3;" ng-mouseenter="hideHeaderControlBar = false" ></div>	<div  class="dw-child-application-header-control-bar" layout="row" layout-align="space-between center" style="background-color:{{accentpalette}} !important;top:0px !important;"  ng-if="!hideHeaderControlBar || keepTitleBar">		<div class="dw-child-application-header-control-bar-left-section" layout="row" layout-align="center center">			<img class="dw-child-application-header-icon" ng-src="{{routedAppIconUri}}" err-src="images/appIcons/untitledapplication.png" width="24" height="24" style="    border-radius: 100%;">			<span class="dw-child-application-header-title">{{routedAppName}}</span>		</div>		<div class="dw-child-application-header-control-bar-right-section"> <md-button class="md-icon-button animatedHeaderControl" aria-label="Minimise Application" ng-click="childApplicationTitleBarpin()">		        <md-icon md-svg-icon="icons/pin.svg" alt="pinit" class="cad24" ng-show="!keepTitleBar"></md-icon><md-icon md-svg-icon="icons/pin-off.svg" alt="pinit" class="cad24" ng-show="keepTitleBar"></md-icon>		        <md-tooltip>pin It</md-tooltip>		    </md-button>			<md-button class="md-icon-button animatedHeaderControl" aria-label="Minimise Application" ng-click="childApplicationMinimise()">		        <md-icon md-svg-icon="icons/ic_fullscreen_exit_24px.svg" alt="minimise" class="cad24"></md-icon>		        <md-tooltip>Minimise</md-tooltip>		    </md-button>		    <md-button class="md-icon-button animatedHeaderControl" aria-label="Close Application" ng-click="childApplicationClose()">		    	<md-icon md-svg-icon="icons/ic_close_24px.svg" alt="close" class="cad24"></md-icon>		    	<md-tooltip>Close</md-tooltip>		    </md-button>		</div>	</div>	<div class="dw-childapp-backgroundcover defaultView" layout="column" layout-align="center center">		<div class="dw-childapp-splash-container" layout="column" layout-align="end center">			<div class="dw-childapp-splash-logo-container" layout="column" layout-align="center center">				<img ng-src="{{routedAppIconUri}}" err-src="images/appIcons/untitledapplication.png" class="dw-childapp-splash-logo top-splash-elements-entry" width="100" height="100"/>			</div>			<div class="dw-childapp-splash-text-container" layout="column" layout-align="space-around center">				<span class="dw-childapp-splash-title bottom-splash-elements-entry">{{routedAppName}}</span>				<md-progress-circular  class="dw-childapp-splash-loadingspinner bottom-splash-elements-entry" md-mode="indeterminate"></md-progress-circular>				<span class="dw-childapp-splash-loadingtextindicator bottom-splash-elements-entry">loading</span>			</div>		</div>	</div>	<div  ng-mouseenter="hideHeaderControlBar = true" class="customeAppContainer"  ng-transclude ng-class="{adjustHeight : keepTitleBar}">	</div></div>',link:function(t,a){var o="idRenderDiv";t.defaultClassView=!0,$("#"+o).empty();var l=angular.element(".dw-childapp-backgroundcover"),c=angular.element(".customeAppContainer"),s=angular.element(".dw-childapp-splash-logo"),r=angular.element(".dw-childapp-splash-title"),d=angular.element(".dw-childapp-splash-loadingspinner"),p=angular.element(".dw-childapp-splash-loadingtextindicator"),u=angular.element(".dw-child-application-header-control-bar"),m=angular.element(".dw-child-application-header-control-bar-left-section span"),g=angular.element(".dw-child-application-header-control-bar-left-section img"),h=angular.element(".dw-child-app-saveButton"),f=angular.element(".md-child-application-container");f.css({transform:"scale(0)","transform-origin":"center top"}),n(function(){f.css({transform:"scale(1)","transform-origin":"center top"})},300),n(function(){u.css({top:"0px",background:t.accentpalette})},1e3),n(function(){s.css("bottom","0px")},1300),n(function(){r.css("top","0px")},1500),n(function(){d.css("top","0px")},1700),n(function(){p.css("top","0px")},1800),n(function(){d.css("top","-400px"),p.css("top","-400px")},4500),n(function(){r.css("top","-400px")},4800),n(function(){s.css("bottom","-150px")},5e3),n(function(){l.css("height","300px")},5200),n(function(){m.css("top","0px"),g.css("top","0px")},5200),n(function(){c.css({opacity:1,"z-index":1,top:"0px"})},5200),n(function(){h.css("z-index","1")},5200),t.childApplicationClose=function(){i.removeFromRunningApp(window.location.hash),f.css({transform:"scale(0)",opacity:"0","transform-origin":"center bottom"}),n(function(){e.go("dock")},300)},t.childApplicationMinimise=function(){i.addToRunningApp(t.routedAppName,t.routedAppIconUri),e.go("dock")},t.hideHeaderControlBar=!0,t.keepTitleBar=!0,t.childApplicationTitleBarpin=function(){t.keepTitleBar=!t.keepTitleBar}}}}]),t.directive("draggable",function(){return{scope:{id:"=id",panel:"=panel"},link:function(t,e){var n=e[0];n.draggable=!0,n.addEventListener("dragstart",function(e){return console.log("dragging started"),console.log(t.id),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("Text",JSON.stringify(t.id)),e.dataTransfer.setData("Panel",JSON.stringify(t.panel)),!1},!1),n.addEventListener("dragend",function(t){return this.classList.remove("drag"),!1},!1)}}}),t.directive("droppable",function(){return{scope:{},link:function(t,e){var n=e[0];n.addEventListener("dragover",function(t){return t.dataTransfer.dropEffect="move",t.preventDefault&&t.preventDefault(),this.classList.add("over"),!1},!1),n.addEventListener("dragenter",function(t){return this.classList.add("over"),!1},!1),n.addEventListener("dragleave",function(t){return this.classList.remove("over"),!1},!1),n.addEventListener("drop",function(e){return e.stopPropagation&&e.stopPropagation(),this.classList.remove("over"),console.log("dropping"),t.handleDrop(e),!1},!1)},controller:"duoworld-framework-shell-ctrl"}}),t.directive("ngEsc",function(){return function(t,e,n){e.bind("keydown keypress keyup",function(e){27===e.which&&(t.$apply(function(){t.$eval(n.ngEsc)}),e.preventDefault())})}}),t.directive("confirmDialog",["$mdDialog","$rootScope",function(t,e){return{restrict:"E",scope:{title:"=title",content:"=content",icon:"=icon",okay:"=okay",cancel:"=cancel"},template:'<md-dialog>                        <div layout="row" style="width:100%;height:100%;height:200px;max-width:400px;background-color:{{$root.shellConfig.themeconfiguration.primarypalette}};color:whitesmoke;padding:15px;">                    <div layout="row" layout-align="center center" style="height:100%;">                    <md-icon md-svg-icon="{{icon}}" style="color:{{$root.shellConfig.themeconfiguration.accentpalette}};transform:scale(7); margin:0px;opacity: 1;" alt="switch tennants"></md-icon></div>                            <div layout="column" layout-align="center start" style="margin-left:20%;">                                <p style="font-size:34px;font-weight:300;margin:0px;">{{title}}</p>                      <p style = "font-size:14px;font-weight:300;margin:5px;color: rgba(255, 255, 255, 0.6);">{{content}}</p><div style = "width:100%;" layout = "row" layout-align = "end center"><md-button style="color:{{$root.shellConfig.themeconfiguration.accentpalette}}" ng-click="confirm();">{{okay}}</md-button><md-button style="color:{{$root.shellConfig.themeconfiguration.accentpalette}}" ng-click="deny();">{{cancel}}</md-button></div></div></md-dialog>'}}])}(angular.module("shellDirectives",[]));
